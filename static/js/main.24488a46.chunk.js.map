{"version":3,"sources":["typed-components.ts","theme.ts","Components/GlobalStyles.tsx","firebase.ts","Route/Auth.tsx","Components/Navigation.tsx","Components/Mwit.tsx","Route/Profile.tsx","Components/Clock.tsx","Route/Home.tsx","Components/Router.tsx","Components/Loader.tsx","Components/App.tsx","index.tsx"],"names":["styledComponents","createGlobalStyle","default","css","ThemeProvider","keyframes","theme","blueColor","GlobalStyles","reset","firebase","apiKey","process","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","firebaseInstance","authService","dbService","storageService","Auth","useState","email","setEmail","password","setPassword","newAccount","setNewAccount","error","setError","onChange","event","currentTarget","name","value","onSubmit","a","preventDefault","createUserWithEmailAndPassword","data","signInWithEmailAndPassword","console","log","message","onSocialClick","provider","auth","GoogleAuthProvider","signInWithPopup","Helmet","type","placeholder","required","onClick","prev","Navigation","userObj","to","displayName","Mwit","mwitObj","isOwner","editing","setEditing","text","newMwit","setNewMwit","onDeleteClick","window","confirm","doc","id","delete","refFromURL","attachmentUrl","toggleEditing","update","src","width","Profile","refreshUser","newDisplayName","setNewDisplayName","myMwits","setMyMwits","useEffect","collection","where","uid","orderBy","onSnapshot","snapshot","myMwitArr","docs","map","updateProfile","myMwit","key","creatorId","signOut","location","reload","Container","styled","div","Title","Dday","Clock","day","setDay","hour","setHour","min","setMin","sec","setSec","getDate","remained","Number","Date","days","Math","abs","floor","hours","minutes","seconds","dayStr","hourStr","minuteStr","secondStr","timeSet","setInterval","clearInterval","Home","mwit","setMwit","mwits","setMwits","attachment","setAttachment","mwitArray","attachmentRef","ref","child","uuidv4","putString","response","getDownloadURL","createdAt","now","add","accept","files","theFile","reader","FileReader","onloadend","finishedEvent","result","target","readAsDataURL","AppRouter","isLoggedIn","exact","path","from","role","aria-label","App","init","setInit","setUserObj","onAuthStateChanged","user","args","currentUser","Boolean","Loader","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.24488a46.chunk.js","sourcesContent":["import * as styledComponents from \"styled-components\";\r\nimport { ThemedStyledComponentsModule } from \"styled-components\";\r\n\r\ninterface IThemeInterface {\r\n  blueColor: String;\r\n}\r\n\r\nconst {\r\n  default: styled,\r\n  css,\r\n  createGlobalStyle,\r\n  keyframes,\r\n  ThemeProvider,\r\n} = styledComponents as ThemedStyledComponentsModule<IThemeInterface>;\r\n\r\nexport { css, createGlobalStyle, keyframes, ThemeProvider };\r\nexport default styled;\r\n","const theme = {\r\n  blueColor: \"#3498db\",\r\n};\r\n\r\nexport default theme;\r\n","import { createGlobalStyle } from \"../typed-components\";\r\nimport reset from \"styled-reset\";\r\n\r\nconst GlobalStyles = createGlobalStyle`\r\n  @import url('https://fonts.googleapis.com/css2?family=Kosugi&display=swap');\r\n  ${reset}\r\n  * {\r\n    font-family: 'Kosugi', sans-serif;\r\n  }\r\n`;\r\n\r\nexport default GlobalStyles;\r\n","import * as firebase from \"firebase/app\";\r\nimport \"firebase/auth\";\r\nimport \"firebase/firestore\";\r\nimport \"firebase/storage\";\r\n\r\nconst firebaseConfig = {\r\n  apiKey: process.env.REACT_APP_API_KEY,\r\n  authDomain: process.env.REACT_APP_AUTH_DOMAIN,\r\n  databaseURL: process.env.REACT_APP_DATABASE_URL,\r\n  projectId: process.env.REACT_APP_PROJECT_ID,\r\n  storageBucket: process.env.REACT_APP_STORAGE_BUCKET,\r\n  messagingSenderId: process.env.REACT_APP_MESSAGING_ID,\r\n  appId: process.env.REACT_APP_APP_ID,\r\n};\r\n\r\n// Initialize Firebase\r\nfirebase.initializeApp(firebaseConfig);\r\n\r\nexport const firebaseInstance = firebase;\r\nexport const authService = firebase.auth();\r\nexport const dbService = firebase.firestore();\r\nexport const storageService = firebase.storage();\r\n","import React, { useState } from \"react\";\r\nimport { Helmet } from \"react-helmet\";\r\nimport { authService, firebaseInstance } from \"../firebase\";\r\n\r\nconst Auth = () => {\r\n  const [email, setEmail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [newAccount, setNewAccount] = useState(true);\r\n  const [error, setError] = useState(\"\");\r\n\r\n  const onChange = (event: React.SyntheticEvent<HTMLInputElement>) => {\r\n    const {\r\n      currentTarget: { name, value },\r\n    } = event;\r\n    if (name === \"email\") {\r\n      setEmail(value);\r\n    } else if (name === \"password\") {\r\n      setPassword(value);\r\n    }\r\n  };\r\n\r\n  const onSubmit = async (event: React.FormEvent) => {\r\n    event.preventDefault();\r\n    try {\r\n      let data;\r\n      if (newAccount) {\r\n        data = await authService.createUserWithEmailAndPassword(\r\n          email,\r\n          password\r\n        );\r\n      } else {\r\n        data = await authService.signInWithEmailAndPassword(email, password);\r\n      }\r\n      console.log(data);\r\n    } catch (error) {\r\n      setError(error.message);\r\n    }\r\n  };\r\n\r\n  const onSocialClick = async (\r\n    event: React.SyntheticEvent<HTMLButtonElement>\r\n  ) => {\r\n    const {\r\n      currentTarget: { name },\r\n    } = event;\r\n    let provider: any | undefined;\r\n    if (name === \"google\") {\r\n      provider = new firebaseInstance.auth.GoogleAuthProvider();\r\n    }\r\n    await authService.signInWithPopup(provider);\r\n  };\r\n\r\n  const toggleAccount = () => setNewAccount((prev) => !prev);\r\n  return (\r\n    <>\r\n      <Helmet>\r\n        <title>Login | Mamabal</title>\r\n      </Helmet>\r\n      <form onSubmit={onSubmit}>\r\n        <input\r\n          name=\"email\"\r\n          type=\"email\"\r\n          placeholder=\"Email\"\r\n          required\r\n          value={email}\r\n          onChange={onChange}\r\n        />\r\n        <input\r\n          name=\"password\"\r\n          type=\"password\"\r\n          placeholder=\"Password\"\r\n          required\r\n          value={password}\r\n          onChange={onChange}\r\n        />\r\n        <input\r\n          type=\"submit\"\r\n          value={newAccount ? \"Create Account\" : \"Sign in\"}\r\n        />\r\n        {error && <span>{error}</span>}\r\n      </form>\r\n      <span onClick={toggleAccount}>\r\n        {newAccount ? \"Sign in\" : \"Create Acount\"}\r\n      </span>\r\n      <div>\r\n        <button onClick={onSocialClick} name=\"google\">\r\n          Continue with Google\r\n        </button>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\nexport default Auth;\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\ninterface INavigationProps {\r\n  userObj: any | null;\r\n}\r\n\r\nconst Navigation: React.FC<INavigationProps> = ({ userObj }) => (\r\n  <nav>\r\n    <ul>\r\n      <li>\r\n        <Link to=\"/\">Home</Link>\r\n      </li>\r\n      <li>\r\n        <Link to=\"/profile\">{userObj.displayName}</Link>\r\n      </li>\r\n    </ul>\r\n  </nav>\r\n);\r\n\r\nexport default Navigation;\r\n","import React, { useState } from \"react\";\r\nimport { dbService, storageService } from \"../firebase\";\r\n\r\nexport interface IMwitObj {\r\n  text: string;\r\n  createdAt: number;\r\n  id: string;\r\n  attachmentUrl: string;\r\n}\r\n\r\ninterface IMwitProps {\r\n  mwitObj: IMwitObj;\r\n  isOwner: boolean;\r\n}\r\n\r\nconst Mwit: React.FC<IMwitProps> = ({ mwitObj, isOwner }) => {\r\n  const [editing, setEditing] = useState(false);\r\n  const [newMwit, setNewMwit] = useState(mwitObj.text);\r\n  const onDeleteClick = async () => {\r\n    const ok = window.confirm(\"本当に取り消しますか？\");\r\n    if (ok) {\r\n      await dbService.doc(`mwits/${mwitObj.id}`).delete();\r\n      await storageService.refFromURL(mwitObj.attachmentUrl).delete();\r\n    }\r\n  };\r\n  const toggleEditing = () => setEditing((prev) => !prev);\r\n\r\n  const onSubmit = async (event: React.FormEvent) => {\r\n    event.preventDefault();\r\n    await dbService.doc(`mwits/${mwitObj.id}`).update({\r\n      text: newMwit,\r\n    });\r\n    setEditing(false);\r\n  };\r\n  const onChange = (event: React.SyntheticEvent<HTMLInputElement>) => {\r\n    const {\r\n      currentTarget: { value },\r\n    } = event;\r\n    setNewMwit(value);\r\n  };\r\n  return (\r\n    <div>\r\n      {editing ? (\r\n        <>\r\n          <form onSubmit={onSubmit}>\r\n            <input\r\n              type=\"text\"\r\n              placeholder=\"更新内容\"\r\n              value={newMwit}\r\n              required\r\n              onChange={onChange}\r\n            />\r\n            <input type=\"submit\" value=\"編集\" />\r\n          </form>\r\n          <button onClick={toggleEditing}>キャンセル</button>\r\n        </>\r\n      ) : (\r\n        <>\r\n          <h4>{mwitObj.text}</h4>\r\n          {mwitObj.attachmentUrl && (\r\n            <img src={mwitObj.attachmentUrl} width=\"300px\" />\r\n          )}\r\n          {isOwner && (\r\n            <>\r\n              <button onClick={onDeleteClick}>消す</button>\r\n              <button onClick={toggleEditing}>編集</button>\r\n            </>\r\n          )}\r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Mwit;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport Mwit from \"../Components/Mwit\";\r\nimport { authService, dbService } from \"../firebase\";\r\nimport { IMwitObj } from \"../Components/Mwit\";\r\nimport { Helmet } from \"react-helmet\";\r\n\r\ninterface IProfileProps {\r\n  userObj: any | null;\r\n  refreshUser: any;\r\n}\r\n\r\ninterface IMyMwits {\r\n  id: string;\r\n}\r\n\r\nconst Profile: React.FC<IProfileProps> = ({ userObj, refreshUser }) => {\r\n  const [newDisplayName, setNewDisplayName] = useState(userObj.displayName);\r\n  const [myMwits, setMyMwits] = useState<IMyMwits[]>([]);\r\n  const [editing, setEditing] = useState(false);\r\n  useEffect(() => {\r\n    dbService\r\n      .collection(\"mwits\")\r\n      .where(\"creatorId\", \"==\", userObj.uid)\r\n      .orderBy(\"createdAt\", \"desc\")\r\n      .onSnapshot((snapshot) => {\r\n        const myMwitArr = snapshot.docs.map((doc) => ({\r\n          id: doc.id,\r\n          ...doc.data(),\r\n        }));\r\n        setMyMwits(myMwitArr);\r\n      });\r\n  }, [userObj]);\r\n  const toggleEditing = () => setEditing((prev) => !prev);\r\n  const onLogoutClick = () => {\r\n    authService.signOut();\r\n    window.location.reload();\r\n  };\r\n  const onChange = (event: React.SyntheticEvent<HTMLInputElement>) => {\r\n    const {\r\n      currentTarget: { value },\r\n    } = event;\r\n    setNewDisplayName(value);\r\n  };\r\n  const onSubmit = async (event: React.FormEvent) => {\r\n    event.preventDefault();\r\n    if (userObj.displayName !== newDisplayName) {\r\n      await userObj.updateProfile({ displayName: newDisplayName });\r\n      refreshUser();\r\n    }\r\n    toggleEditing();\r\n  };\r\n  return (\r\n    <>\r\n      <Helmet>\r\n        <title>Profile | Mamabal</title>\r\n      </Helmet>\r\n      {editing ? (\r\n        <>\r\n          <form onSubmit={onSubmit}>\r\n            <input\r\n              onChange={onChange}\r\n              value={newDisplayName}\r\n              placeholder=\"名前編集\"\r\n              type=\"text\"\r\n            />\r\n            <input type=\"submit\" value=\"アップデート\" />\r\n          </form>\r\n          <button onClick={toggleEditing}>キャンセル</button>\r\n        </>\r\n      ) : (\r\n        <>\r\n          <button onClick={toggleEditing}>プロフィールアップデート</button>\r\n        </>\r\n      )}\r\n      {myMwits.map((myMwit: any) => (\r\n        <Mwit\r\n          key={myMwit.id}\r\n          mwitObj={myMwit}\r\n          isOwner={myMwit.creatorId === userObj.uid}\r\n        />\r\n      ))}\r\n      <button onClick={onLogoutClick}>Logout</button>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Profile;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport styled from \"styled-components\";\r\n\r\nconst Container = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  flex-direction: column;\r\n`;\r\n\r\nconst Title = styled.div`\r\n  font-size: 80px;\r\n  font-weight: 700;\r\n  margin-bottom: 20px;\r\n`;\r\n\r\nconst Dday = styled.div`\r\n  font-size: 50px;\r\n  font-weight: 600;\r\n`;\r\n\r\nconst Clock = () => {\r\n  const [day, setDay] = useState(\"\");\r\n  const [hour, setHour] = useState(\"\");\r\n  const [min, setMin] = useState(\"\");\r\n  const [sec, setSec] = useState(\"\");\r\n\r\n  const getDate = () => {\r\n    const startDay = Number(new Date(\"2019-02-01:00:00:00+0900\"));\r\n    let now = Number(new Date());\r\n    let remained = startDay - now;\r\n\r\n    const DAY = 1000 * 60 * 60 * 24;\r\n    const HOUR = 1000 * 60 * 60;\r\n    const MINUTE = 1000 * 60;\r\n    const SECOND = 1000;\r\n\r\n    const days = Math.abs(Math.floor(remained / DAY));\r\n    const hours = Math.abs(Math.floor((remained % DAY) / HOUR)) - 1;\r\n    const minutes = Math.abs(Math.floor((remained % HOUR) / MINUTE)) - 1;\r\n    const seconds = Math.abs(Math.floor((remained % MINUTE) / SECOND)) - 1;\r\n\r\n    const dayStr = `${days < 10 ? `0${days}` : days}`;\r\n    const hourStr = `${hours < 10 ? `0${hours}` : hours}`;\r\n    const minuteStr = `${minutes < 10 ? `0${minutes}` : minutes}`;\r\n    const secondStr = `${seconds < 10 ? `0${seconds}` : seconds}`;\r\n\r\n    setDay(dayStr);\r\n    setHour(hourStr);\r\n    setMin(minuteStr);\r\n    setSec(secondStr);\r\n  };\r\n\r\n  useEffect(() => {\r\n    const timeSet = setInterval(getDate, 1000);\r\n    return () => {\r\n      clearInterval(timeSet);\r\n    };\r\n  }, []);\r\n\r\n  return (\r\n    <Container>\r\n      <Title>出会ってから</Title>\r\n      <Dday>\r\n        {day}日 {hour}時 {min}分 {sec}秒\r\n      </Dday>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default Clock;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport Clock from \"../Components/Clock\";\r\nimport { Helmet } from \"react-helmet\";\r\nimport { dbService, storageService } from \"../firebase\";\r\nimport Mwit from \"../Components/Mwit\";\r\nimport { v4 as uuidv4 } from \"uuid\";\r\n\r\ninterface IUserObjProps {\r\n  userObj: any | null;\r\n}\r\n\r\ninterface IMwitArray {\r\n  id: string;\r\n}\r\n\r\nconst Home: React.FC<IUserObjProps> = ({ userObj }) => {\r\n  const [mwit, setMwit] = useState(\"\");\r\n  const [mwits, setMwits] = useState<IMwitArray[]>([]);\r\n  const [attachment, setAttachment] = useState<any | null>(\"\");\r\n  useEffect(() => {\r\n    dbService\r\n      .collection(\"mwits\")\r\n      .orderBy(\"createdAt\", \"desc\")\r\n      .onSnapshot((snapshot) => {\r\n        const mwitArray = snapshot.docs.map((doc) => ({\r\n          id: doc.id,\r\n          ...doc.data(),\r\n        }));\r\n        setMwits(mwitArray);\r\n      });\r\n  }, []);\r\n  const onSubmit = async (event: React.FormEvent) => {\r\n    event.preventDefault();\r\n    let attachmentUrl = \"\";\r\n    if (attachment !== \"\") {\r\n      const attachmentRef = storageService\r\n        .ref()\r\n        .child(`${userObj.uid}/${uuidv4()}`);\r\n      const response = await attachmentRef.putString(attachment, \"data_url\");\r\n      attachmentUrl = await response.ref.getDownloadURL();\r\n    }\r\n    const mwitObj = {\r\n      text: mwit,\r\n      createdAt: Date.now(),\r\n      creatorId: userObj.uid,\r\n      attachmentUrl,\r\n    };\r\n    await dbService.collection(\"mwits\").add(mwitObj);\r\n    setMwit(\"\");\r\n    setAttachment(\"\");\r\n  };\r\n  const onChange = (event: React.SyntheticEvent<HTMLInputElement>) => {\r\n    const {\r\n      currentTarget: { value },\r\n    } = event;\r\n    setMwit(value);\r\n  };\r\n  const onFileChange = (event: React.SyntheticEvent<HTMLInputElement>) => {\r\n    const {\r\n      currentTarget: { files },\r\n    } = event;\r\n    if (files) {\r\n      const theFile = files[0];\r\n      const reader = new FileReader();\r\n      reader.onloadend = (finishedEvent) => {\r\n        const result = finishedEvent.target?.result;\r\n        setAttachment(result);\r\n      };\r\n      reader.readAsDataURL(theFile);\r\n    }\r\n  };\r\n  const onClearAttachment = () => setAttachment(null);\r\n  return (\r\n    <>\r\n      <Helmet>\r\n        <title>Home | Mamabal</title>\r\n      </Helmet>\r\n      <Clock />\r\n      <div>\r\n        <form onSubmit={onSubmit}>\r\n          <input\r\n            value={mwit}\r\n            onChange={onChange}\r\n            type=\"text\"\r\n            placeholder=\"ここに内容を書いてください\"\r\n          />\r\n          <input type=\"file\" accept=\"image/*\" onChange={onFileChange} />\r\n          <input type=\"submit\" value=\"Mwit\" />\r\n          {attachment && (\r\n            <div>\r\n              <img src={attachment} width=\"300px\" />\r\n              <button onClick={onClearAttachment}>Clear</button>\r\n            </div>\r\n          )}\r\n        </form>\r\n        <div>\r\n          {mwits.map((mwit: any) => (\r\n            <Mwit\r\n              key={mwit.id}\r\n              mwitObj={mwit}\r\n              isOwner={mwit.creatorId === userObj.uid}\r\n            />\r\n          ))}\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Home;\r\n","import React from \"react\";\r\nimport { BrowserRouter, Switch, Route, Redirect } from \"react-router-dom\";\r\nimport Auth from \"../Route/Auth\";\r\nimport Navigation from \"./Navigation\";\r\nimport Profile from \"../Route/Profile\";\r\nimport Home from \"../Route/Home\";\r\n\r\ninterface IAppProps {\r\n  isLoggedIn?: Boolean | null;\r\n  userObj?: any | null;\r\n  refreshUser: any;\r\n}\r\n\r\nconst AppRouter: React.FC<IAppProps> = ({\r\n  refreshUser,\r\n  isLoggedIn,\r\n  userObj,\r\n}) => (\r\n  <BrowserRouter>\r\n    {isLoggedIn && <Navigation userObj={userObj} />}\r\n    <Switch>\r\n      {isLoggedIn ? (\r\n        <>\r\n          <Route exact path=\"/\">\r\n            <Home userObj={userObj} />\r\n          </Route>\r\n          <Route exact path=\"/profile\">\r\n            <Profile userObj={userObj} refreshUser={refreshUser} />\r\n          </Route>\r\n          <Redirect from=\"*\" to=\"/\" />\r\n        </>\r\n      ) : (\r\n        <>\r\n          <Route exact path=\"/\">\r\n            <Auth />\r\n          </Route>\r\n          <Redirect from=\"*\" to=\"/\" />\r\n        </>\r\n      )}\r\n    </Switch>\r\n  </BrowserRouter>\r\n);\r\n\r\nexport default AppRouter;\r\n","import React from \"react\";\r\nimport styled from \"styled-components\";\r\n\r\nconst Container = styled.div`\r\n  height: 100vh;\r\n  width: 100vw;\r\n  display: flex;\r\n  justify-content: center;\r\n  font-size: 28px;\r\n  margin-top: 20px;\r\n`;\r\n\r\nexport default () => (\r\n  <Container>\r\n    <span role=\"img\" aria-label=\"Loading\">\r\n      ⏰\r\n    </span>\r\n  </Container>\r\n);\r\n","import React, { useEffect, useState } from \"react\";\nimport { ThemeProvider } from \"../typed-components\";\nimport theme from \"../theme\";\nimport GlobalStyles from \"./GlobalStyles\";\nimport { authService } from \"../firebase\";\nimport AppRouter from \"./Router\";\nimport Loader from \"./Loader\";\n\nconst App = () => {\n  const [init, setInit] = useState(false);\n  const [userObj, setUserObj] = useState<any | null>(null);\n  useEffect(() => {\n    authService.onAuthStateChanged((user) => {\n      if (user) {\n        setUserObj({\n          displayName: user.displayName,\n          uid: user.uid,\n          updateProfile: (args: any) => user.updateProfile(args),\n        });\n      }\n      setInit(true);\n    });\n  }, []);\n  const refreshUser = () => {\n    const user = authService.currentUser;\n    if (user) {\n      setUserObj({\n        displayName: user.displayName,\n        uid: user.uid,\n        updateProfile: (args: any) => user.updateProfile(args),\n      });\n    }\n  };\n  return (\n    <ThemeProvider theme={theme}>\n      {init ? (\n        <AppRouter\n          refreshUser={refreshUser}\n          isLoggedIn={Boolean(userObj)}\n          userObj={userObj}\n        />\n      ) : (\n        <Loader />\n      )}\n      <GlobalStyles />\n    </ThemeProvider>\n  );\n};\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./Components/App\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}