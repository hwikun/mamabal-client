{"version":3,"sources":["typed-components.ts","theme.ts","Components/GlobalStyles.tsx","firebase.ts","Components/AuthFrom.tsx","Components/SocialLogin.tsx","Route/Auth.tsx","Components/Navigation.tsx","Components/Mwit.tsx","Route/Profile.tsx","Components/Clock.tsx","Route/Home.tsx","Components/Router.tsx","Components/Loader.tsx","Components/App.tsx","index.tsx"],"names":["styledComponents","createGlobalStyle","default","css","ThemeProvider","keyframes","theme","blueColor","GlobalStyles","reset","firebase","apiKey","process","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","firebaseInstance","authService","dbService","storageService","AuthFrom","useState","email","setEmail","password","setPassword","newAccount","setNewAccount","error","setError","onChange","event","currentTarget","name","value","onSubmit","a","preventDefault","createUserWithEmailAndPassword","data","signInWithEmailAndPassword","console","log","message","type","placeholder","required","onClick","prev","SocialLogin","onSocialClick","provider","auth","GoogleAuthProvider","signInWithPopup","Auth","Helmet","Navigation","userObj","to","displayName","Mwit","mwitObj","isOwner","editing","setEditing","text","newMwit","setNewMwit","onDeleteClick","window","confirm","doc","id","delete","refFromURL","attachmentUrl","toggleEditing","update","src","width","Profile","refreshUser","newDisplayName","setNewDisplayName","myMwits","setMyMwits","useEffect","collection","where","uid","orderBy","onSnapshot","snapshot","myMwitArr","docs","map","updateProfile","myMwit","key","creatorId","signOut","location","reload","Container","styled","div","Title","Dday","Clock","day","setDay","hour","setHour","min","setMin","sec","setSec","getDate","remained","Number","Date","days","Math","abs","floor","hours","minutes","seconds","dayStr","hourStr","minuteStr","secondStr","timeSet","setInterval","clearInterval","Home","mwit","setMwit","mwits","setMwits","attachment","setAttachment","mwitArray","attachmentRef","ref","child","uuidv4","putString","response","getDownloadURL","createdAt","now","add","accept","files","theFile","reader","FileReader","onloadend","finishedEvent","result","target","readAsDataURL","AppRouter","isLoggedIn","exact","path","from","role","aria-label","App","init","setInit","setUserObj","onAuthStateChanged","user","args","currentUser","Boolean","Loader","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.4dac2858.chunk.js","sourcesContent":["import * as styledComponents from \"styled-components\";\r\nimport { ThemedStyledComponentsModule } from \"styled-components\";\r\n\r\ninterface IThemeInterface {\r\n  blueColor: String;\r\n}\r\n\r\nconst {\r\n  default: styled,\r\n  css,\r\n  createGlobalStyle,\r\n  keyframes,\r\n  ThemeProvider,\r\n} = styledComponents as ThemedStyledComponentsModule<IThemeInterface>;\r\n\r\nexport { css, createGlobalStyle, keyframes, ThemeProvider };\r\nexport default styled;\r\n","const theme = {\r\n  blueColor: \"#3498db\",\r\n};\r\n\r\nexport default theme;\r\n","import { createGlobalStyle } from \"../typed-components\";\r\nimport reset from \"styled-reset\";\r\n\r\nconst GlobalStyles = createGlobalStyle`\r\n  @import url('https://fonts.googleapis.com/css2?family=Kosugi&display=swap');\r\n  ${reset}\r\n  * {\r\n    font-family: 'Kosugi', sans-serif;\r\n  }\r\n`;\r\n\r\nexport default GlobalStyles;\r\n","import * as firebase from \"firebase/app\";\r\nimport \"firebase/auth\";\r\nimport \"firebase/firestore\";\r\nimport \"firebase/storage\";\r\n\r\nconst firebaseConfig = {\r\n  apiKey: process.env.REACT_APP_API_KEY,\r\n  authDomain: process.env.REACT_APP_AUTH_DOMAIN,\r\n  databaseURL: process.env.REACT_APP_DATABASE_URL,\r\n  projectId: process.env.REACT_APP_PROJECT_ID,\r\n  storageBucket: process.env.REACT_APP_STORAGE_BUCKET,\r\n  messagingSenderId: process.env.REACT_APP_MESSAGING_ID,\r\n  appId: process.env.REACT_APP_APP_ID,\r\n};\r\n\r\n// Initialize Firebase\r\nfirebase.initializeApp(firebaseConfig);\r\n\r\nexport const firebaseInstance = firebase;\r\nexport const authService = firebase.auth();\r\nexport const dbService = firebase.firestore();\r\nexport const storageService = firebase.storage();\r\n","import React, { useState } from \"react\";\r\nimport { authService } from \"../firebase\";\r\n\r\nconst AuthFrom = () => {\r\n  const [email, setEmail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [newAccount, setNewAccount] = useState(true);\r\n  const [error, setError] = useState(\"\");\r\n  const onChange = (event: React.SyntheticEvent<HTMLInputElement>) => {\r\n    const {\r\n      currentTarget: { name, value },\r\n    } = event;\r\n    if (name === \"email\") {\r\n      setEmail(value);\r\n    } else if (name === \"password\") {\r\n      setPassword(value);\r\n    }\r\n  };\r\n  const onSubmit = async (event: React.FormEvent) => {\r\n    event.preventDefault();\r\n    try {\r\n      let data;\r\n      if (newAccount) {\r\n        data = await authService.createUserWithEmailAndPassword(\r\n          email,\r\n          password\r\n        );\r\n      } else {\r\n        data = await authService.signInWithEmailAndPassword(email, password);\r\n      }\r\n      console.log(data);\r\n    } catch (error) {\r\n      setError(error.message);\r\n    }\r\n  };\r\n\r\n  const toggleAccount = () => setNewAccount((prev) => !prev);\r\n  return (\r\n    <div>\r\n      <form onSubmit={onSubmit}>\r\n        <input\r\n          name=\"email\"\r\n          type=\"email\"\r\n          placeholder=\"Email\"\r\n          required\r\n          value={email}\r\n          onChange={onChange}\r\n        />\r\n        <input\r\n          name=\"password\"\r\n          type=\"password\"\r\n          placeholder=\"Password\"\r\n          required\r\n          value={password}\r\n          onChange={onChange}\r\n        />\r\n        <input type=\"submit\" value={newAccount ? \"新規取得\" : \"ログイン\"} />\r\n        {error && <span>{error}</span>}\r\n      </form>\r\n      <span onClick={toggleAccount}>\r\n        {newAccount ? \"ログイン\" : \"新規取得\"}\r\n      </span>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AuthFrom;\r\n","import React from \"react\";\r\nimport { authService, firebaseInstance } from \"../firebase\";\r\n\r\nconst SocialLogin = () => {\r\n  const onSocialClick = async (\r\n    event: React.SyntheticEvent<HTMLButtonElement>\r\n  ) => {\r\n    const {\r\n      currentTarget: { name },\r\n    } = event;\r\n    let provider: any | undefined;\r\n    if (name === \"google\") {\r\n      provider = new firebaseInstance.auth.GoogleAuthProvider();\r\n    }\r\n    await authService.signInWithPopup(provider);\r\n  };\r\n  return (\r\n    <div>\r\n      <button onClick={onSocialClick} name=\"google\">\r\n        Continue with Google\r\n      </button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SocialLogin;\r\n","import React, { useState } from \"react\";\r\nimport { authService, firebaseInstance } from \"../firebase\";\r\nimport { Helmet } from \"react-helmet\";\r\nimport AuthFrom from \"../Components/AuthFrom\";\r\nimport SocialLogin from \"../Components/SocialLogin\";\r\n\r\nconst Auth = () => {\r\n  return (\r\n    <>\r\n      <Helmet>\r\n        <title>Login | Mamabal</title>\r\n      </Helmet>\r\n      <AuthFrom />\r\n      <SocialLogin />\r\n    </>\r\n  );\r\n};\r\nexport default Auth;\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\ninterface INavigationProps {\r\n  userObj: any | null;\r\n}\r\n\r\nconst Navigation: React.FC<INavigationProps> = ({ userObj }) => (\r\n  <nav>\r\n    <ul>\r\n      <li>\r\n        <Link to=\"/\">Home</Link>\r\n      </li>\r\n      <li>\r\n        <Link to=\"/profile\">{userObj.displayName}</Link>\r\n      </li>\r\n    </ul>\r\n  </nav>\r\n);\r\n\r\nexport default Navigation;\r\n","import React, { useState } from \"react\";\r\nimport { dbService, storageService } from \"../firebase\";\r\n\r\nexport interface IMwitObj {\r\n  text: string;\r\n  createdAt: number;\r\n  id: string;\r\n  attachmentUrl: string;\r\n}\r\n\r\ninterface IMwitProps {\r\n  mwitObj: IMwitObj;\r\n  isOwner: boolean;\r\n}\r\n\r\nconst Mwit: React.FC<IMwitProps> = ({ mwitObj, isOwner }) => {\r\n  const [editing, setEditing] = useState(false);\r\n  const [newMwit, setNewMwit] = useState(mwitObj.text);\r\n  const onDeleteClick = async () => {\r\n    const ok = window.confirm(\"本当に取り消しますか？\");\r\n    if (ok) {\r\n      await dbService.doc(`mwits/${mwitObj.id}`).delete();\r\n      await storageService.refFromURL(mwitObj.attachmentUrl).delete();\r\n    }\r\n  };\r\n  const toggleEditing = () => setEditing((prev) => !prev);\r\n\r\n  const onSubmit = async (event: React.FormEvent) => {\r\n    event.preventDefault();\r\n    await dbService.doc(`mwits/${mwitObj.id}`).update({\r\n      text: newMwit,\r\n    });\r\n    setEditing(false);\r\n  };\r\n  const onChange = (event: React.SyntheticEvent<HTMLInputElement>) => {\r\n    const {\r\n      currentTarget: { value },\r\n    } = event;\r\n    setNewMwit(value);\r\n  };\r\n  return (\r\n    <div>\r\n      {editing ? (\r\n        <>\r\n          <form onSubmit={onSubmit}>\r\n            <input\r\n              type=\"text\"\r\n              placeholder=\"更新内容\"\r\n              value={newMwit}\r\n              required\r\n              onChange={onChange}\r\n            />\r\n            <input type=\"submit\" value=\"編集\" />\r\n          </form>\r\n          <button onClick={toggleEditing}>キャンセル</button>\r\n        </>\r\n      ) : (\r\n        <>\r\n          <h4>{mwitObj.text}</h4>\r\n          {mwitObj.attachmentUrl && (\r\n            <img src={mwitObj.attachmentUrl} width=\"300px\" />\r\n          )}\r\n          {isOwner && (\r\n            <>\r\n              <button onClick={onDeleteClick}>消す</button>\r\n              <button onClick={toggleEditing}>編集</button>\r\n            </>\r\n          )}\r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Mwit;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport Mwit from \"../Components/Mwit\";\r\nimport { authService, dbService } from \"../firebase\";\r\nimport { Helmet } from \"react-helmet\";\r\n\r\ninterface IProfileProps {\r\n  userObj: any | null;\r\n  refreshUser: any;\r\n}\r\n\r\ninterface IMyMwits {\r\n  id: string;\r\n}\r\n\r\nconst Profile: React.FC<IProfileProps> = ({ userObj, refreshUser }) => {\r\n  const [newDisplayName, setNewDisplayName] = useState(userObj.displayName);\r\n  const [myMwits, setMyMwits] = useState<IMyMwits[]>([]);\r\n  const [editing, setEditing] = useState(false);\r\n  useEffect(() => {\r\n    dbService\r\n      .collection(\"mwits\")\r\n      .where(\"creatorId\", \"==\", userObj.uid)\r\n      .orderBy(\"createdAt\", \"desc\")\r\n      .onSnapshot((snapshot) => {\r\n        const myMwitArr = snapshot.docs.map((doc) => ({\r\n          id: doc.id,\r\n          ...doc.data(),\r\n        }));\r\n        setMyMwits(myMwitArr);\r\n      });\r\n  }, [userObj]);\r\n  const toggleEditing = () => setEditing((prev) => !prev);\r\n  const onLogoutClick = () => {\r\n    authService.signOut();\r\n    window.location.reload();\r\n  };\r\n  const onChange = (event: React.SyntheticEvent<HTMLInputElement>) => {\r\n    const {\r\n      currentTarget: { value },\r\n    } = event;\r\n    setNewDisplayName(value);\r\n  };\r\n  const onSubmit = async (event: React.FormEvent) => {\r\n    event.preventDefault();\r\n    if (userObj.displayName !== newDisplayName) {\r\n      await userObj.updateProfile({ displayName: newDisplayName });\r\n      refreshUser();\r\n    }\r\n    toggleEditing();\r\n  };\r\n  return (\r\n    <>\r\n      <Helmet>\r\n        <title>Profile | Mamabal</title>\r\n      </Helmet>\r\n      {editing ? (\r\n        <>\r\n          <form onSubmit={onSubmit}>\r\n            <input\r\n              onChange={onChange}\r\n              value={newDisplayName}\r\n              placeholder=\"名前編集\"\r\n              type=\"text\"\r\n            />\r\n            <input type=\"submit\" value=\"アップデート\" />\r\n          </form>\r\n          <button onClick={toggleEditing}>キャンセル</button>\r\n        </>\r\n      ) : (\r\n        <>\r\n          <button onClick={toggleEditing}>プロフィールアップデート</button>\r\n        </>\r\n      )}\r\n      {myMwits.map((myMwit: any) => (\r\n        <Mwit\r\n          key={myMwit.id}\r\n          mwitObj={myMwit}\r\n          isOwner={myMwit.creatorId === userObj.uid}\r\n        />\r\n      ))}\r\n      <button onClick={onLogoutClick}>Logout</button>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Profile;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport styled from \"styled-components\";\r\n\r\nconst Container = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  flex-direction: column;\r\n`;\r\n\r\nconst Title = styled.div`\r\n  font-size: 80px;\r\n  font-weight: 700;\r\n  margin-bottom: 20px;\r\n`;\r\n\r\nconst Dday = styled.div`\r\n  font-size: 50px;\r\n  font-weight: 600;\r\n`;\r\n\r\nconst Clock = () => {\r\n  const [day, setDay] = useState(\"\");\r\n  const [hour, setHour] = useState(\"\");\r\n  const [min, setMin] = useState(\"\");\r\n  const [sec, setSec] = useState(\"\");\r\n\r\n  const getDate = () => {\r\n    const startDay = Number(new Date(\"2019-02-01:00:00:00+0900\"));\r\n    let now = Number(new Date());\r\n    let remained = startDay - now;\r\n\r\n    const DAY = 1000 * 60 * 60 * 24;\r\n    const HOUR = 1000 * 60 * 60;\r\n    const MINUTE = 1000 * 60;\r\n    const SECOND = 1000;\r\n\r\n    const days = Math.abs(Math.floor(remained / DAY));\r\n    const hours = Math.abs(Math.floor((remained % DAY) / HOUR)) - 1;\r\n    const minutes = Math.abs(Math.floor((remained % HOUR) / MINUTE)) - 1;\r\n    const seconds = Math.abs(Math.floor((remained % MINUTE) / SECOND)) - 1;\r\n\r\n    const dayStr = `${days < 10 ? `0${days}` : days}`;\r\n    const hourStr = `${hours < 10 ? `0${hours}` : hours}`;\r\n    const minuteStr = `${minutes < 10 ? `0${minutes}` : minutes}`;\r\n    const secondStr = `${seconds < 10 ? `0${seconds}` : seconds}`;\r\n\r\n    setDay(dayStr);\r\n    setHour(hourStr);\r\n    setMin(minuteStr);\r\n    setSec(secondStr);\r\n  };\r\n\r\n  useEffect(() => {\r\n    const timeSet = setInterval(getDate, 1000);\r\n    return () => {\r\n      clearInterval(timeSet);\r\n    };\r\n  }, []);\r\n\r\n  return (\r\n    <Container>\r\n      <Title>出会ってから</Title>\r\n      <Dday>\r\n        {day}日 {hour}時 {min}分 {sec}秒\r\n      </Dday>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default Clock;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport Clock from \"../Components/Clock\";\r\nimport { Helmet } from \"react-helmet\";\r\nimport { dbService, storageService } from \"../firebase\";\r\nimport Mwit from \"../Components/Mwit\";\r\nimport { v4 as uuidv4 } from \"uuid\";\r\n\r\ninterface IUserObjProps {\r\n  userObj: any | null;\r\n}\r\n\r\ninterface IMwitArray {\r\n  id: string;\r\n}\r\n\r\nconst Home: React.FC<IUserObjProps> = ({ userObj }) => {\r\n  const [mwit, setMwit] = useState(\"\");\r\n  const [mwits, setMwits] = useState<IMwitArray[]>([]);\r\n  const [attachment, setAttachment] = useState<any | null>(\"\");\r\n  useEffect(() => {\r\n    dbService\r\n      .collection(\"mwits\")\r\n      .orderBy(\"createdAt\", \"desc\")\r\n      .onSnapshot((snapshot) => {\r\n        const mwitArray = snapshot.docs.map((doc) => ({\r\n          id: doc.id,\r\n          ...doc.data(),\r\n        }));\r\n        setMwits(mwitArray);\r\n      });\r\n  }, []);\r\n  const onSubmit = async (event: React.FormEvent) => {\r\n    event.preventDefault();\r\n    let attachmentUrl = \"\";\r\n    if (attachment !== \"\") {\r\n      const attachmentRef = storageService\r\n        .ref()\r\n        .child(`${userObj.uid}/${uuidv4()}`);\r\n      const response = await attachmentRef.putString(attachment, \"data_url\");\r\n      attachmentUrl = await response.ref.getDownloadURL();\r\n    }\r\n    const mwitObj = {\r\n      text: mwit,\r\n      createdAt: Date.now(),\r\n      creatorId: userObj.uid,\r\n      attachmentUrl,\r\n    };\r\n    await dbService.collection(\"mwits\").add(mwitObj);\r\n    setMwit(\"\");\r\n    setAttachment(\"\");\r\n  };\r\n  const onChange = (event: React.SyntheticEvent<HTMLInputElement>) => {\r\n    const {\r\n      currentTarget: { value },\r\n    } = event;\r\n    setMwit(value);\r\n  };\r\n  const onFileChange = (event: React.SyntheticEvent<HTMLInputElement>) => {\r\n    const {\r\n      currentTarget: { files },\r\n    } = event;\r\n    if (files) {\r\n      const theFile = files[0];\r\n      const reader = new FileReader();\r\n      reader.onloadend = (finishedEvent) => {\r\n        const result = finishedEvent.target?.result;\r\n        setAttachment(result);\r\n      };\r\n      reader.readAsDataURL(theFile);\r\n    }\r\n  };\r\n  const onClearAttachment = () => setAttachment(null);\r\n  return (\r\n    <>\r\n      <Helmet>\r\n        <title>Home | Mamabal</title>\r\n      </Helmet>\r\n      <Clock />\r\n      <div>\r\n        <form onSubmit={onSubmit}>\r\n          <input\r\n            value={mwit}\r\n            onChange={onChange}\r\n            type=\"text\"\r\n            placeholder=\"ここに内容を書いてください\"\r\n          />\r\n          <input type=\"file\" accept=\"image/*\" onChange={onFileChange} />\r\n          <input type=\"submit\" value=\"Mwit\" />\r\n          {attachment && (\r\n            <div>\r\n              <img src={attachment} width=\"300px\" />\r\n              <button onClick={onClearAttachment}>Clear</button>\r\n            </div>\r\n          )}\r\n        </form>\r\n        <div>\r\n          {mwits.map((mwit: any) => (\r\n            <Mwit\r\n              key={mwit.id}\r\n              mwitObj={mwit}\r\n              isOwner={mwit.creatorId === userObj.uid}\r\n            />\r\n          ))}\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Home;\r\n","import React from \"react\";\r\nimport { Switch, Route, Redirect, HashRouter } from \"react-router-dom\";\r\nimport Auth from \"../Route/Auth\";\r\nimport Navigation from \"./Navigation\";\r\nimport Profile from \"../Route/Profile\";\r\nimport Home from \"../Route/Home\";\r\n\r\ninterface IAppProps {\r\n  isLoggedIn?: Boolean | null;\r\n  userObj?: any | null;\r\n  refreshUser: any;\r\n}\r\n\r\nconst AppRouter: React.FC<IAppProps> = ({\r\n  refreshUser,\r\n  isLoggedIn,\r\n  userObj,\r\n}) => (\r\n  <HashRouter>\r\n    {isLoggedIn && <Navigation userObj={userObj} />}\r\n    <Switch>\r\n      {isLoggedIn ? (\r\n        <>\r\n          <Route exact path=\"/\">\r\n            <Home userObj={userObj} />\r\n          </Route>\r\n          <Route exact path=\"/profile\">\r\n            <Profile userObj={userObj} refreshUser={refreshUser} />\r\n          </Route>\r\n          <Redirect from=\"*\" to=\"/\" />\r\n        </>\r\n      ) : (\r\n        <>\r\n          <Route exact path=\"/\">\r\n            <Auth />\r\n          </Route>\r\n          <Redirect from=\"*\" to=\"/\" />\r\n        </>\r\n      )}\r\n    </Switch>\r\n  </HashRouter>\r\n);\r\n\r\nexport default AppRouter;\r\n","import React from \"react\";\r\nimport styled from \"styled-components\";\r\n\r\nconst Container = styled.div`\r\n  height: 100vh;\r\n  width: 100vw;\r\n  display: flex;\r\n  justify-content: center;\r\n  font-size: 28px;\r\n  margin-top: 20px;\r\n`;\r\n\r\nexport default () => (\r\n  <Container>\r\n    <span role=\"img\" aria-label=\"Loading\">\r\n      ⏰\r\n    </span>\r\n  </Container>\r\n);\r\n","import React, { useEffect, useState } from \"react\";\nimport { ThemeProvider } from \"../typed-components\";\nimport theme from \"../theme\";\nimport GlobalStyles from \"./GlobalStyles\";\nimport { authService } from \"../firebase\";\nimport AppRouter from \"./Router\";\nimport Loader from \"./Loader\";\n\nconst App = () => {\n  const [init, setInit] = useState(false);\n  const [userObj, setUserObj] = useState<any | null>(null);\n  useEffect(() => {\n    authService.onAuthStateChanged((user) => {\n      if (user) {\n        setUserObj({\n          displayName: user.displayName,\n          uid: user.uid,\n          updateProfile: (args: any) => user.updateProfile(args),\n        });\n      }\n      setInit(true);\n    });\n  }, []);\n  const refreshUser = () => {\n    const user = authService.currentUser;\n    if (user) {\n      setUserObj({\n        displayName: user.displayName,\n        uid: user.uid,\n        updateProfile: (args: any) => user.updateProfile(args),\n      });\n    }\n  };\n  return (\n    <ThemeProvider theme={theme}>\n      {init ? (\n        <AppRouter\n          refreshUser={refreshUser}\n          isLoggedIn={Boolean(userObj)}\n          userObj={userObj}\n        />\n      ) : (\n        <Loader />\n      )}\n      <GlobalStyles />\n    </ThemeProvider>\n  );\n};\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./Components/App\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}